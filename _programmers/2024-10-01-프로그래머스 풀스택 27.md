---
layout: post
title:  "í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ í’€ìŠ¤íƒ 27"
excerpt: "í’€ìŠ¤íƒ27"
category: programmers
tags: [programmers]
date: '2024-10-01 15:00:00 +09:00'
last_modified_at: '2024-10-01'
---

# í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ í’€ìŠ¤íƒ 27
í”„ë¡œì íŠ¸: Node.js ê¸°ë°˜ì˜ REST API êµ¬í˜„(4)

## ğŸŒŠ API, á„á…¦á„‹á…µá„‡á…³á†¯ á„Œá…¥á†·á„€á…¥á†·

<span style="color:lightseagreen">ğŸ’« **API, á„á…¦á„‹á…µá„‡á…³á†¯ á„Œá…¥á†·á„€á…¥á†·**</span><br>
![alt text](img01/image-275.png)<br>
- API ì„¤ê³„ ëª©ë¡ê³¼ ë¹„êµí•˜ë©° í•­ëª©ì„ ì¶”ê°€í•¨<br><br/>

## ğŸŒŠ express-generatorá„‹á…ª í˜„ì¬ á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„€á…®á„Œá…© á„‡á…µá„€á…­

<span style="color:lightseagreen">ğŸ’« **express-generator í”„ë¡œì íŠ¸ êµ¬ì¡°**</span><br>

- **bin/www** : í¬íŠ¸ë²ˆí˜¸, ì˜¤ë¥˜ë‚˜ë©´ ì–´ì©”ê±´ì§€..ë“±ê³¼ ê°™ì€ ì›¹ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ëŠ”ë°ì— í•„ìš”í•œ ì„¤ì • ë°ì´í„°ê°€ ì •ì˜ë˜ì–´ ìˆëŠ” íŒŒì¼<br>
=> .env íŒŒì¼ê³¼ ê°™ì´ ì„¤ì • ê°’ì„ ê°€ì§€ê³  ì—ëŸ¬ ì²˜ë¦¬, ê¸°íƒ€ ì¶”ê°€ ì„¤ì •ì„ í•´ì£¼ëŠ” íŒŒì¼<br>

- **node_modules** : Node.js, Expressì— í•„ìš”í•œ ëª¨ë“ˆë“¤ì´ ì„¤ì¹˜ë˜ëŠ” í´ë”<br>

- **<em>public</em>** : images, javascripts, stylesheets -> ì •ì (ex. ë¡œê³ , íšŒì‚¬ ì†Œê°œ í˜ì´ì§€ ...) íŒŒì¼<br>
cf. ë™ì  : ì‚¬ëŒë§ˆë‹¤ ë‹¤ë¥¸ ë°ì´í„°

- **routes** : ê° ê²½ë¡œë¥¼ ë‹´ë‹¹í•˜ëŠ” ëª¨ë“ˆë“¤ì´ ë“¤ì–´ìˆëŠ” í´ë”<br>
= ë¼ìš°íŒ… ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ëª¨ë“ˆë“¤<br>
: í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì–´ë–¤ ìš”ì²­ì„ ì£¼ëƒì— ë”°ë¼ì„œ ì–´ë–¤ ë¡œì§ì„ ìˆ˜í–‰í•  ì§€ íŒŒì¼ë³„ë¡œ ë¶„í• í•´ì„œ ê´€ë¦¬í•˜ëŠ” ì •ë„ì„.<br>
(cf. ìë°”ì˜ controller ì—­í• )<br>

- **<em>views</em>** : í´ë¼ì´ì–¸íŠ¸ì—ê²Œ htmlì½”ë“œë¡œ "í™”ë©´ì„ ë³´ë‚´ëŠ” íŒŒì¼"<br>


- **app.js** : Express ì„œë²„ì˜ ì‹œì‘ì  => URLì— ë”°ë¼ì„œ ë¼ìš°íŒ…ì„ í•¨.<br>

- **package.json** : ì´ í”„ë¡œì íŠ¸ì— ì„¤ì¹˜ëœ ëª¨ë“ˆ ì´ë¦„, ë²„ì „ ë“±ë“± ì •ë³´ë“¤ì´ ì‘ì„±ë˜ì–´ ìˆëŠ” íŒŒì¼<br>

<br>

publicê³¼ viewë¥¼ ë¹¼ë©´ express-generatorì™€ í˜„ì¬ í”„ë¡œì íŠ¸ê°€ ë‹¤ë¥¸ ê²Œ ì—†ìŒ~~<br><br/>

## ğŸŒŠ á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„‰á…¦á†ºá„á…µá†¼ + app.js á„€á…®á„’á…§á†«


<span style="color:lightseagreen">ğŸ’« **á„‘á…³á„…á…©á„Œá…¦á†¨á„á…³ á„‰á…¦á†ºá„á…µá†¼ + app.js á„€á…®á„’á…§á†«**</span><br>

![alt text](img01/image-276.png)<br>
- í•„ìš”í•œ npm ì„¤ì¹˜ì™€ app.js êµ¬í˜„í•œ ëª¨ìŠµ!<br><br/>

## ğŸŒŠ users.js á„€á…µá„‡á…©á†« á„†á…©á„ƒá…²á†¯á„’á…ª

<span style="color:lightseagreen">ğŸ’« **users.js á„€á…µá„‡á…©á†« á„†á…©á„ƒá…²á†¯á„’á…ª**</span><br>

![alt text](img01/image-277.png)<br>
- **Router.use() requires a middleware function but got a Object** ì˜¤ë¥˜!<br>
module.exports = router;ì„ ê¼­ í•´ì£¼ê¸°!<br>
module.exportsë¥¼ í†µí•´ì„œ routerë¥¼ ë“±ë¡í•´ì¤˜ì•¼ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•¨!<br>

<br>

![alt text](img01/image-278.png)<br>
- ì‹¤í–‰ì´ ì˜ ë˜ëŠ” ê±¸ í™•ì¸!<br><br/>

## ğŸŒŠ books, likes, carts, orders á„€á…µá„‡á…©á†« á„†á…©á„ƒá…²á†¯á„’á…ª

<span style="color:lightseagreen">ğŸ’« **books, likes, carts, orders á„€á…µá„‡á…©á†« á„†á…©á„ƒá…²á†¯á„’á…ª**</span><br>

![alt text](img01/image-279.png)<br>
- URI ì„¤ì •í•  ë•Œ /join, /login, /rest ì•ì— /usersë¥¼ ë¶™ì—¬ì¤Œ<br>
- /users/join, /users/login, /users/reset<br>

\<app.jsì—ì„œ route ë¶€ë¶„ ìˆ˜ì •>
```javascript
app.use("/users", userRouter);
```
<br>

![alt text](img01/image-280.png)<br>
```javascript
const userRouter = require('./routes/users');
const bookRouter = require('./routes/books');
const likeRouter = require('./routes/likes');
const cartRouter = require('./routes/carts');
const orderRouter = require('./routes/orders');
app.use("/users", userRouter);
app.use("/books", bookRouter);
app.use("/likes", likeRouter);
app.use("/carts", cartRouter);
app.use("/orders", orderRouter);
```
- app.jsì—ì„œ ì´ë ‡ê²Œ Routerë¥¼ ë¶„ë¦¬í•´ì¤¬ë‹¤ë©´ ê°ê°ì˜ ë¶ˆëŸ¬ì˜¤ëŠ” íŒŒì¼ì—ì„œëŠ” /books, /likes, ë“±ë“±ì„ ìƒëµí•˜ì—¬ ì‘ì„±í•˜ë©´ ë¨.<br>

\<books.js ìˆ˜ì • ì „>
```javascript
// ì „ì²´ ë„ì„œ ì¡°íšŒ
router.get('/books', (req, res) => {
    res.json('ì „ì²´ ë„ì„œ ì¡°íšŒ');
});
// ê°œë³„ ë„ì„œ ì¡°íšŒ
router.get('/books/:id', (req, res) => {
    res.json('ê°œë³„ ë„ì„œ ì¡°íšŒ');
});
```

\<books.js ìˆ˜ì • í›„>
```javascript
// ì „ì²´ ë„ì„œ ì¡°íšŒ
router.get('/', (req, res) => {
    res.json('ì „ì²´ ë„ì„œ ì¡°íšŒ');
});
// ê°œë³„ ë„ì„œ ì¡°íšŒ
router.get('/:id', (req, res) => {
    res.json('ê°œë³„ ë„ì„œ ì¡°íšŒ');
});
```
ì´ëŸ° ì‹ìœ¼ë¡œ ë¹¼ì£¼ê¸°!!<br><br/>

## ğŸŒŠ dbdiagram users, workbench create

<span style="color:lightseagreen">ğŸ’« **dbdiagram users**</span><br>

![alt text](img01/image-281.png)<br>
- [dbdiagram.io](dbdiagram.io)ë¥¼ í†µí•´ users í…Œì´ë¸”ì˜ ERDë¥¼ ì‘ì„±!<br>

<span style="color:lightseagreen">ğŸ’« **workbench create**</span><br>

![alt text](img01/image-282.png)<br>
- workbenchì„ í†µí•´ Bookshop ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„± í›„(ë”ë¸”í´ë¦­í•´ì„œ ë³¼ë“œì²´ê°€ ë˜ë©´ ê·¸ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ëœ») users í…Œì´ë¸” ìƒì„±!<br>

<br><br/>

## ğŸŒŠ ëŠë‚€ ì (YWT)

**Y ì¼ì„ í†µí•´ ëª…í™•íˆ ì•Œê²Œ ë˜ì—ˆê±°ë‚˜ ì´í•´í•œ ë¶€ë¶„(í•œ ì¼)ì— ëŒ€í•´ ì •ë¦¬ :**<br>
express-generatorì™€ í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°ì˜ ì°¨ì´ / app.js íŒŒì¼ì—ì„œ Router ë¶„ë¦¬í•˜ë©´ ê°ê° íŒŒì¼ì—ì„œ ìƒëµí•˜ê¸°<br>

**W ë°°ìš´ ì ê³¼ ì‹œì‚¬ì  :**<br>
app.jsì—ì„œ Routerë¥¼ ë¶„ë¦¬í•´ì¤¬ë‹¤ë©´ ê°ê°ì˜ ë¶ˆëŸ¬ì˜¤ëŠ” íŒŒì¼ì—ì„œëŠ” /books, /likes, ë“±ë“±ì„ ìƒëµí•˜ì—¬ ì‘ì„±í•˜ê¸°!!!<br>

**T ì‘ìš©í•˜ì—¬ ë°°ìš´ ê²ƒì„ ì–´ë””ì— ì–´ë–»ê²Œ ì ìš©í• ì§€:**<br>
express-generatorì™€ í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°ì˜ ì°¨ì´ëŠ” publicê³¼ viewë¥¼ ë¹¼ë©´ express-generatorì™€ í˜„ì¬ í”„ë¡œì íŠ¸ê°€ ë‹¤ë¥¸ ê²Œ ì—†ìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ express-generatorë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë¨!<br>
ì•ìœ¼ë¡œ app.jsì—ì„œ Routerë¥¼ ë¶„ë¦¬í•´ì¤¬ë‹¤ë©´ ê°ê°ì˜ ë¶ˆëŸ¬ì˜¤ëŠ” íŒŒì¼ì—ì„œëŠ” ìƒëµí•˜ì—¬ ì‘ì„±í•  ê²ƒì„!<br>